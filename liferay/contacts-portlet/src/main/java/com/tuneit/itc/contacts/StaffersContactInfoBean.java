package com.tuneit.itc.contacts;

import com.liferay.faces.portal.el.internal.Liferay;
import com.liferay.faces.util.logging.Logger;
import com.liferay.faces.util.logging.LoggerFactory;
import com.tuneit.itc.commons.model.OfficeContactInfo;
import com.tuneit.itc.commons.model.StafferContactInfo;
import com.tuneit.itc.commons.service.StafferContactInfoService;
import lombok.Data;
import org.primefaces.event.FileUploadEvent;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.ManagedProperty;
import javax.faces.bean.ViewScoped;
import java.io.IOException;
import java.util.*;

@Data
@ViewScoped
@ManagedBean
public class StaffersContactInfoBean {
    Logger log = LoggerFactory.getLogger(StaffersContactInfoBean.class);
    private static final String DEFAULT_IMAGE = "/9j/4AAQSkZJRgABAQAAAQABAAD//gA+Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBkZWZhdWx0IHF1YWxpdHkK/9sAQwAIBgYHBgUIBwcHCQkICgwUDQwLCwwZEhMPFB0aHx4dGhwcICQuJyAiLCMcHCg3KSwwMTQ0NB8nOT04MjwuMzQy/9sAQwEJCQkMCwwYDQ0YMiEcITIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIy/8AAEQgCWAJYAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A9iooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAoo/OkJCjJ4HrQAtFUptVtIf+Wm4+i81Ql8Qdo4PxLf/WoA3PwormH1q7c9VX6CoG1C7Y8zv+dAHXUVxpuJj1lb86Tzpf77fnQB2dFcaLmdekrD8alXUbtOk7n6mgDraK5lNbul+9tYe4q5F4gU8SQEe6tn+lAG1RVSHU7Wb7sgB9G4NW+tABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFNd1jUs7BVHUmgB1RT3MVuu6VgB2rIvdbP3LZf+Bn+grGeRpWLOxYnuaANi514k7bePA/vN/hWVNczXDZkkLfjUVFABRRRQAUUUUAFFFFABRRRQAUUUUAFTwXk9sf3bkD07VBRQBu2+vKfluEx/tL/AIVrRTRzJujYMPUVxlPimkgfdExVvagDtKKx7PW0fCXA2N/e7VrghlBByO1AC0UUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRWdqOpraDYnzSnoPSgCe8vorNMvyx6L61zV3ey3j7pDgdlHQVC7tK5dySx6k02gAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAq5ZajLZtgfNH3X/AAqnRQB2FtdxXce+I/UdxU9cZBPJbyCSMkMK6ex1CO8Tj5XHVaALlFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFUtRvxZQ8cyN90UAQ6pqQtV8qPmU/pXOMSxJJJJ6mhmZ3LMck9TSUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAU6ORoXDodrDvTaKAOp07UFvY8HiVeo9avVxcMzwSiRDhhXV2d2l5AJF4PdfSgCzRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUARTzpbwtK/Rf1rkrm4e5maR+p7elXtYvPOnEKn5I/1NZlABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVZsbxrO4DjJU8MPUVWooA7VXEiB15U9KdWFod5gm2c+6/4Vu0AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFU9SuvstqWBw7cL9auVzGsXPn3mwH5Y+B9e9AGfRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFADkdo3DqcMORXX2twtzbrKvfqPSuOrY0K52SvAx4bkfWgDfooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigCC7n+z20kvcDj61yBJJJPWt3XpsRRQj+Ikn8MVgigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAp8MrQyrIvVTmmUd6AO1jcSRq46MMinVm6LN5llsPVDj8K0qACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA5fWJfM1Bh2X5aoU+aTzJ3kP8RzTKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigDW0GXbdPH2Zc/l/8Arroa5LTpPLv4j6tiutoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACorl9ltI/oualqrqJ26fP7qaAOSooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAHRtskVvQ5rtfpXEV2kRzCh9RQA+iiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAqlqn/IPl+lXaqamM6fN/umgDk6KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigArsrb/j1j/3a42uzgGIIx7UASUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFQXi7rOVR3U1PSEBgQehoA4mildSjlT1BxSUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFACgEkAdTXagbQB6VyFknmXkS+rCuwoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigDk9Ti8q/lHqciqlbOvxYkim9QQfwrGoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKANLRIt99u7IM10tZGgw7YJJT/GQPy//AF1r0AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQBT1OD7RYuAMsPmH1rlK7euRv7f7Ldun8PUfSgCtRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABQAScDk9hRWho9sZ7wMfux8mgDobWEW9ukY/hGDU1FFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFZWt2vm24mUfNHn8RWrSFQwIIyD2oA4mirV/aG0uSn8J5U+1VaACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK6rS7T7LaDcPnblqxdIs/tNzvYfJHyfrXT0AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAFPUbIXlvtHDryprlWUqSrDBHb0rtqxtY0/cPtMXUffH9aAMGiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAp8UTTSLGgyx4pldJpOn/Zk82QfvW7f3RQBctLZbW3ES9up9TU9FFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAc7qum+SxnhH7s9V9Kyq7YgEEEZB7Vz2paUYCZYBmPuvpQBlUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRR+FbemaTgie4H+6tAC6TphGLibr/AAqa26P6UUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAGNf6MH/e23Dd09fpWEylSVYYI657V21VLzT4bwZbhx0YUAcnRVu70+azOWG5P7wqpQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABTo4nmcIilmPartnpc11hj8kfqR1roLWzhs02xDnuT1NAFSw0lbfEk3zSemOBWnRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAhAIIIyD1HrWXdaJDNloT5bemMg1q0UAcjcWFxbH50O31HSq1dvVOfTLWfkx7W9V60AcpRWzNoDj/AFMob2YYqjLpt3F96Ikeq80AVKKVlKHDAg+9JQAUUUUAFFFFABRTkR5DhQSfYVai0q7l6RFf97igCnRW3DoHeab8FH9a0oNPtrc5SMZH8R5NAHPW2mXNzyF2r/eatq10eC3O5/3j+pHStGigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAEZQwwRkVA1lauctAh+oqxRQBTOl2Z/wCWI/Kk/sqz/wCeVXaKAKa6ZZj/AJYKalWztk+7Ag+gqeigBAABgDFLRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUVBJeW8XDzKPbNVH1u0Tpub6CgDSorFbxAo+5bk/V8f0qFtfmP3YVH1OaAOgormzrt12CflSf25ef9M/++aAOlormxrt13VPyqVdflB+aFT9GxQBv0VjL4gQ/egK/Rs/0qxHrNo/dl+ooA0aKhjuoJf9XKrfQ1NQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRTZJEiTdIwUeprIuddVflt03H+8TxQBsEgDJOPqao3Gr2sHAbe3otc9cXc9ycyuT7dhUFAGtPrsznESCMe5yaz5ruefiSVmHoTUNFABRRRQAUUUUAFFFFABRRRQAUUUUAFWIb64g+5KQPTPFV6KANiHXpF4miDD1U4rSt9UtbjgPtY9mrlaKAO37d6Otcjb31xa/6tzj+6elbFrrkUuFnXy29c5BoA1qKRXV13KQQe9L3oAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKrXd9DZrukPzHoo6mgCwSAMk4FZN5rcceVtxvb1zxWVeajNeNg/Kn90VUoAlnuJbh90rlj71FiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAntrya1bMTED0PSt2z1iK4+WUeW/14Nc3RQB2+aK5ey1WW0+Rvnj9M9PpXRW91FdJvjbI7+ooAmooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKOtFYWpasWzDbnA/icd6ALOoautuTHDhpO57LXPSSPI5eQksepNNz3ooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACpIJ5LeQPGxDfzqOigDp7DU47wbW+SX0z1rQriQSpyDg+tb+m6sJcQznD/wt60Aa9FFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUZAGT09aKwNW1PzCbeE/L/E3r7UAN1TVPOzDCcR9z61k0UUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAG5peq5xBOef4WNbdcRW/pOpeZi3mPz/AMLevtQBsUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUVS1K9FnBkcu3Cj+tAFXV9R8lfIiPzn7x9BXP0rMzsWY5J5JpKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKASCCDgiiigDp9Lv/tkex/8AWr1960K4uKV4ZVkQ4YGuss7pbuASKMHoV9DQBYooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAGSyLFG0jnCr1rkru5a7uDK34D0rR1u83yC2Q/Kv3vc1j0AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABVzTrw2dxk8o3DCqdFAHbAhhkdDS1jaJebkNs55XlfpWzQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVWvroWls0nfoo9TVmua1m68668sH5Y+PxoAzmJZiSSSeppKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAfFK0MqyJ95TkV18Ey3EKyp0YZrja2dCutrtbt/Fyv1oA3qKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAr3tx9ltXk7jp9a5Akk5PPetjXbjdIkAPC5Y/jWPQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAU+KRopFkU/MDmmUUAdnDKs0SSL0YZqSsfQrjfE8DH7vIrYoAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACkYhVJPAHWlqjq03k2D46v8tAHNXExuLh5T1Y5qOiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAtadP9nvUb+EnDfSutriK6+ym+0WkcncjmgCxRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVg6/LmSKIHoCT+Nb1cpqknm6hKf7p20AU+9FFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAV0Ggy7reSL+4Qfz/wD1Vz9aeiSbL0qejrQB0lFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFACE4BJri3Yu5Y9+a629fZZyt6Ka5CgAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACrFjJ5d7E3+0Kr0oOCD6UAdtRSKdygjuKWgAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigCjq7bdOk9+K5aiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigDsLNt9nE3qoqeiigAooooAKKKKACiiigAooooAKKKKACiiigD//2Q==";

    private OfficeContactInfo currentOffice;

    private List<StafferContactInfo> staffers;
    private List<String> departments;
    private StafferContactInfo newContactInfo;

    @ManagedProperty("#{stafferContactInfoService}")
    private StafferContactInfoService stafferContactInfoService;
    @ManagedProperty("#{liferay}")
    private Liferay liferay;

    private Mode mode;

    public void updateShownStaffers(OfficeContactInfo office) {
        currentOffice = office;
        staffers = stafferContactInfoService.getAllOfficeStaffers(currentOffice.getId());
        departments = new ArrayList<>();
        for (StafferContactInfo staffer : staffers) {
            if (!departments.contains(staffer.getDepartment()))
                departments.add(staffer.getDepartment());
        }
        setModeView();
    }

    public void addStaffer() {
        newContactInfo.setOfficeContactInfo(currentOffice);
        if (newContactInfo.getPhoto() == null) {
            newContactInfo.setPhoto(DEFAULT_IMAGE);
        }
        stafferContactInfoService.save(newContactInfo);
        staffers.add(newContactInfo);
        if (!departments.contains(newContactInfo.getDepartment()))
            departments.add(newContactInfo.getDepartment());
        setModeView();
    }

    public void removeStaffer(StafferContactInfo staffer) {
        stafferContactInfoService.delete(staffer);
        staffers.remove(staffer);
    }

    public void handlePictureUpload(FileUploadEvent event) throws IOException {
        newContactInfo.setPhoto(Base64.getEncoder().encodeToString(event.getFile().getContents()));
    }

    public boolean isAdmin() {
        return liferay.getThemeDisplay().getPermissionChecker().isOmniadmin();
    }

    public boolean isModeCreate() {
        return mode == Mode.CREATE;
    }

    public boolean isModeUpdate() {
        return mode == Mode.UPDATE;
    }

    public boolean isModeView() {
        return mode == Mode.VIEW;
    }

    public void setModeCreate() {
        newContactInfo = new StafferContactInfo();
        mode = Mode.CREATE;
    }

    public void setModeUpdate() {
        mode = Mode.UPDATE;
    }

    public void setModeView() {
        mode = Mode.VIEW;
    }

    private enum Mode {
        VIEW,
        UPDATE,
        CREATE
    }
}
