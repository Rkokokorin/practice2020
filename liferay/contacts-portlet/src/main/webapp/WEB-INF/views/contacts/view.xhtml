<?xml version="1.0"?>

<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:p="http://primefaces.org/ui"
        xmlns:ui="http://java.sun.com/jsf/facelets">

<!--    <h:head>-->
<!--        <h:outputStylesheet library="webjars" name="font-awesome/5.12.0/css/all.min-jsf.css" />-->
<!--        <h:outputStylesheet library="webjars" name="font-awesome/5.12.0/css/v4-shims.min-jsf.css" />-->
<!--    </h:head>-->

    <p:outputPanel rendered="#{contactsBean.modeView}">
        <div class="ui-g">
            <div class="ui-g-11">
                <h3>#{contactsBean.contactInfo.city}, #{contactsBean.contactInfo.name}</h3>
            </div>
            <div class="ui-g-1">
                <p:commandLink actionListener="${contactsBean.setModeCreate()}"
                               rendered="#{contactsBean.modeView and contactsBean.admin}"
                               process="@this"
                               update="@form">
                    <i class="far fa-fw fa-plus-square"/>
                </p:commandLink>
            </div>
        </div>

        <br/>
        <i class="fa fa-fw fa-flip-horizontal fa-phone icon"/>
        <h:outputLink id="phone" value="tel:#{contactsBean.contactInfo.phone} ">
            <h:outputText value="#{contactsBean.contactInfo.phone}" converter="phoneConverter"/>
        </h:outputLink>
        <h:outputText styleClass="phone_label" value="#{i18n['itc.contacts.phone-availability24/7']}"/>

        <br/><br/>
        <i class="fa fa-fw fa-envelope icon"/>
        <h:outputLink id="email" value="mailto:#{contactsBean.contactInfo.email}">
            <h:outputText value="#{contactsBean.contactInfo.email}"/>
        </h:outputLink>

        <br/><br/>
        <i class="fa fa-fw fa-map-marker icon"/>
        <h:outputText id="location" value="#{contactsBean.contactInfo.address}"/>

        <br/><br/>
        <i class="far fa-fw fa-clock icon"/>
        <h:outputText styleClass="weekdays_wh" value="#{i18n['itc.contacts.weekdays-working-hours']}"/>
        <h:outputText id="weekdaysWorkingHours" value=" #{contactsBean.contactInfo.weekdaysWorkingHours}"/>
        <br/>
        <i class="fa fa-fw fa-blank fa-clock icon"/>
        <h:outputText styleClass="weekends_wh" value="#{i18n['itc.contacts.weekends-working-hours']}"/>
        <h:outputText id="weekendsWorkingHours" styleClass="weekends_wh" value=" #{contactsBean.contactInfo.weekendsWorkingHours}"/>
    </p:outputPanel>

    <p:outputPanel rendered="#{contactsBean.modeCreate and contactsBean.admin}">
        <div class="ui-g">
            <div class="ui-g-11">
                <h3>#{i18n['itc.admin.contacts.add-info.title']}</h3>
            </div>
            <div class="ui-g-1">
                <p:commandLink actionListener="${contactsBean.setModeView()}"
                               process="@this"
                               update="@form">
                    <i class="far fa-fw fa-window-close icon"/>
                </p:commandLink>
            </div>
        </div>

        <div class="ui-g">
            <div class="ui-float-label ui-g-12 ui-md-6 ui-lg-6">
                <p:outputLabel for="@next" value="#{i18n['itc.admin.contacts.city']}"/>
                <p:inputText id="city" value="#{contactsBean.newContactInfo.city}" />
            </div>
            <div class="ui-float-label ui-g-12 ui-md-6 ui-lg-6">
                <p:outputLabel for="@next" value="#{i18n['itc.admin.contacts.office-name']}"/>
                <p:inputText id="officeName" value="#{contactsBean.newContactInfo.name}" />
            </div>
        </div>

        <i class="fa fa-fw fa-flip-horizontal fa-phone icon"/>
        <p:inputMask id="phoneInput" value="#{contactsBean.newContactInfo.phone}" required="true" mask="+9 (999) 999-9999"/>

        <br/><br/>
        <i class="fa fa-fw fa-envelope icon"/>
        <h:inputText id="emailInput" value="#{contactsBean.newContactInfo.email}" required="true" label="Email"
                     validatorMessage="#{contactsBean.newContactInfo.email} is not valid">
            <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
        </h:inputText>
        <p:message for="emailInput" display="tooltip"/>


        <br/><br/>
        <i class="fa fa-fw fa-map-marker icon"/>
        <h:inputText id="locationInput" value="#{contactsBean.newContactInfo.address}" required="true"/>

        <br/><br/>
        <i class="far fa-fw fa-clock icon"/>
        <h:outputText styleClass="weekdays_wh" value="#{i18n['itc.contacts.weekdays-working-hours']}"/>
        <p:inputMask id="weekdaysWorkingHoursInput" value="#{contactsBean.newContactInfo.weekdaysWorkingHours}"
                     required="true" mask="99:99-99:99">
            <f:validateRegex pattern="([01][0-9]|2[0-3]):[0-5][0-9]"/>
        </p:inputMask>
        <br/>
        <i class="fa fa-fw fa-blank fa-clock icon"/>
        <h:outputText styleClass="weekends_wh" value="#{i18n['itc.contacts.weekends-working-hours']}"/>
        <p:inputMask id="weekendsWorkingHoursInput" value="#{contactsBean.newContactInfo.weekendsWorkingHours}"
                     required="true" mask="99:99-99:99">
            <f:validateRegex pattern="([01][0-9]|2[0-3]):[0-5][0-9]"/>
        </p:inputMask>

        <br/>
        <p:commandButton value="#{i18n['itc.admin.contacts.create']}" actionListener="#{contactsBean.createCity()}"
                         process="@this" styleClass="btn btn-primary"
                         update="@form"/>
    </p:outputPanel>
</ui:composition>
